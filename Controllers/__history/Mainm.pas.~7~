unit Mainm;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics,
  Controls, Forms, uniGUITypes, uniGUIAbstractClasses,
  uniGUIClasses, uniGUImClasses, uniGUIRegClasses, uniGUIForm, uniGUImForm, uniGUImJSForm,
  uniGUIBaseClasses, uniLabel, unimLabel, uniToolBar, unimToolbar, uniChart,
  uniPanel, unimChart, unimPanel, uniButton, unimButton, uniTreeView,
  uniTreeMenu, unimTreeMenu, Vcl.Imaging.pngimage, uniImage, unimImage,
  uniBitBtn, unimBitBtn;

type
  TMainmForm = class(TUnimForm)
    Label_loja: TUnimLabel;
    UnimPanel1: TUnimPanel;
    Button_menu: TUnimButton;
    Label_usuario: TUnimLabel;
    Button_sair: TUnimButton;
    TreeMenu: TUnimTreeMenu;
    UnimContainerPanel1: TUnimContainerPanel;
    UnimPanel2: TUnimPanel;
    UnimLabel1: TUnimLabel;
    UnimImage1: TUnimImage;
    UnimLabel2: TUnimLabel;
    UnimPanel3: TUnimPanel;
    UnimLabel3: TUnimLabel;
    UnimImage2: TUnimImage;
    UnimLabel4: TUnimLabel;
    UnimLabel5: TUnimLabel;
    UnimLabel6: TUnimLabel;
    UnimBitBtn1: TUnimBitBtn;
    procedure UnimFormShow(Sender: TObject);
    procedure UnimFormCreate(Sender: TObject);
    procedure Button_menuClick(Sender: TObject);
    procedure UnimPanel2MouseDown(Sender: TObject; Button: TMouseButton;
      Shift: TShiftState; X, Y: Integer);
    procedure UnimFormScreenResize(Sender: TObject; AWidth, AHeight: Integer);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

function MainmForm: TMainmForm;

implementation

{$R *.dfm}

uses
  uniGUIVars, MainModule, uniGUIApplication, ServerModule, U_MLogin;

function MainmForm: TMainmForm;
begin
  Result := TMainmForm(Frm_MainModule.GetFormInstance(TMainmForm));
end;

procedure TMainmForm.Button_menuClick(Sender: TObject);
begin
  TreeMenu.Visible:= Not(TreeMenu.Visible);
  TreeMenu.Micro:= Not(TreeMenu.Micro);
//  UnimPanel2.Visible:=  not(UnimPanel2.Visible);
//  UnimPanel2.Collapsed:= not(UnimPanel2.Collapsed);
//  UnimPanel2.Collapsible:= not(UnimPanel2.Collapsible);

end;

procedure TMainmForm.UnimFormCreate(Sender: TObject);
begin
  Frm_MainModule.carrega_dados_conexao;
end;

procedure TMainmForm.UnimFormScreenResize(Sender: TObject; AWidth,
  AHeight: Integer);
begin
  Self.Scrollable:= Not(Self.Scrollable);
end;

procedure TMainmForm.UnimFormShow(Sender: TObject);
begin
  MainmForm.Label_usuario.Caption:= 'Olá, ' +Frm_MainModule.usuario_conectado;
  Label_loja.Caption:= Frm_MainModule.loja_logada;
  UnimLabel1.Caption:= DateToStr(Date);
end;

procedure TMainmForm.UnimPanel2MouseDown(Sender: TObject; Button: TMouseButton;
  Shift: TShiftState; X, Y: Integer);
begin
  Button_menuClick(Self);
end;

initialization
  RegisterAppFormClass(TMainmForm);
  ReportMemoryLeaksOnShutDown:= True;

end.
